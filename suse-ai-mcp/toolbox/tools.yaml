sources:
  demo:
    kind: postgres
    host: postgres-postgresql.default.svc.cluster.local
    port: 5432
    database: northwind
    user: postgres
    password: postgres
tools:
  search-customers-by-shippers:
    kind: postgres-sql
    source: demo
    description: Search for a product and it's availablity in stock
    parameters:
      - name: CompanyName
        type: string
        description: Search or list customer name and customer address of all customers with orders that shipped using a specific delivery provider (i.e.Speedy Express).
    statement: >-
      SELECT contact_name, address
      FROM customers WHERE customer_ID IN 
        (SELECT DISTINCT customer_id FROM Orders WHERE ship_via IN (SELECT shipper_id FROM Shippers WHERE company_name = $1))
  # search-hotels-by-location:
  #   kind: postgres-sql
  #   source: my-pg-source
  #   description: Search for hotels based on location.
  #   parameters:
  #     - name: location
  #       type: string
  #       description: The location of the hotel.
  #   statement: SELECT * FROM hotels WHERE location ILIKE '%' || $1 || '%';
  # book-hotel:
  #   kind: postgres-sql
  #   source: my-pg-source
  #   description: >-
  #      Book a hotel by its ID. If the hotel is successfully booked, returns a NULL, raises an error if not.
  #   parameters:
  #     - name: hotel_id
  #       type: string
  #       description: The ID of the hotel to book.
  #   statement: UPDATE hotels SET booked = B'1' WHERE id = $1;
  # update-hotel:
  #   kind: postgres-sql
  #   source: my-pg-source
  #   description: >-
  #     Update a hotel's check-in and check-out dates by its ID. Returns a message
  #     indicating  whether the hotel was successfully updated or not.
  #   parameters:
  #     - name: hotel_id
  #       type: string
  #       description: The ID of the hotel to update.
  #     - name: checkin_date
  #       type: string
  #       description: The new check-in date of the hotel.
  #     - name: checkout_date
  #       type: string
  #       description: The new check-out date of the hotel.
  #   statement: >-
  #     UPDATE hotels SET checkin_date = CAST($2 as date), checkout_date = CAST($3
  #     as date) WHERE id = $1;
  # cancel-hotel:
  #   kind: postgres-sql
  #   source: my-pg-source
  #   description: Cancel a hotel by its ID.
  #   parameters:
  #     - name: hotel_id
  #       type: string
  #       description: The ID of the hotel to cancel.
  #   statement: UPDATE hotels SET booked = B'0' WHERE id = $1;
toolsets:
  my-toolset:
    - search-customers-by-shippers
    # - search-hotels-by-location
    # - book-hotel
    # - update-hotel
    # - cancel-hotel